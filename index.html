<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Algoritmo de Buscas</title>
	<link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/css/master.css">
</head>
<body>
	<main class="container">
	<h1>Algoritmo de Busca (Inteligência Artifical)</h1>
	<form action="#">
		<label for="">Nome Vértice: </label>
		<input class="form-control" placeholder="A" type="text">
		<label for="">Arestas e valores: </label>
		<input class="form-control" placeholder="A=8;B=9;C=10;" type="text">

		<div class="alert alert-danger hidden" id="error">
		</div>
		<div class="botoes">
			<button id="inserir" class="btn btn-success">Inserir Vértice</button>
			<button id="finalizar" class="btn btn-danger">Finalizar Grafo</button>
		</div>
	</form>
		<canvas id="graph" width="1000px" height="800">
Your browser does not support the HTML5 canvas tag.</canvas>
	</main>
	<script src="./assets/js/libs/dijkstras-algorithm-master/dijkstras.js"></script>
	<script src="./assets/js/app.js"></script>

	<script>
		var defineValues = function(values) {
			console.log(values);
			var newValues = values.split(";");
			console.log(newValues);
		}
		var inserir = function() {
			var inputs = document.getElementsByClassName('form-control');
			var erro = document.getElementById("error");
			if(inputs[0].value == "" || inputs[0].value == undefined || inputs[1].value == "" || inputs[1].value == undefined){
				erro.classList.remove("hidden");
				erro.innerHTML = "Algum campo está inválido";
				setTimeout(function() {
					erro.classList.add("hidden");
					erro.innerHTML = "";
				}, 3000);
			}
			var nome = inputs[0].value.toUpperCase();
			var values = defineValues(inputs[1].value);
		}

		var finalizar = function() {
			console.log("FINALIZAR");
		}
		document.getElementById('inserir').addEventListener("click", inserir);
		document.getElementById('finalizar').addEventListener("click", finalizar);
		var g = new Graph();

		// Primeiro você define os vértices, suas arestas e conexões
		drawVertex('A', {B: 7, C: 8}, g);
		drawVertex('B', {A: 7, F: 2}, g);
		drawVertex('C', {A: 8, F: 6, G: 4}, g);
		drawVertex('D', {F: 8}, g);
		drawVertex('E', {H: 1}, g);
		drawVertex('F', {B: 2, C: 6, D: 8, G: 9, H: 3}, g);
		drawVertex('G', {C: 4, F: 9}, g);
		drawVertex('H', {E: 1, F: 3}, g);

		// Depois, você invoca a função 'buildConnections' para que ela ligue os vértices
		// É necessário chamá-la, pois a operação de ligação dos vértices só ocorre após todos eles definidos
		buildConnections();

		// Log test, with the addition of reversing the path and prepending the first node so it's more readable
		// console.log(g.shortestPath('A', 'H'));//.concat(['A']).reverse());
	</script>
</body>
</html>
